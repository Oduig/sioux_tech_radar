define("structs",["require","exports"],function(e,t){var n=function(){function e(e,t){this.x=e,this.y=t}return e}();t.D3Node=n;var r=function(){function e(e,t){this.r=e,this.phi=t}return e.fromPoint=function(n,r){return r=-r,new e(Math.sqrt(n*n+r*r),Math.atan2(r,n))},e.prototype.x=function(){return this.r*Math.cos(this.phi)},e.prototype.y=function(){return-this.r*Math.sin(this.phi)},e}();t.Polar=r}),define("socket",["require","exports"],function(e,t){var n=function(){function e(){}return e.New=function(){var t=function(){return Math.floor(Math.random()*65536).toString(16)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e}();t.Guid=n;var r=function(){function e(){this.thingSocket=io.connect("http://localhost/Thing"),this.personSocket=io.connect("http://localhost/Person"),this.opinionSocket=io.connect("http://localhost/Opinion")}return e.single=null,e.instance=function(){return e.single==null&&(e.single=new e),e.single},e.prototype.getSocket=function(e){if(e=="Thing")return this.thingSocket;if(e=="Person")return this.personSocket;if(e=="Opinion")return this.opinionSocket},e}();t.Bus=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n};define("view-model",["require","exports","structs","radar","socket"],function(e,t,n,r,i){var s=n,o=r,u=i,a=Math.PI/4,f=function(){function e(){}return e.prototype.toString=function(){var e=this.constructor;for(var t in e)if(l[t]===this)return t;return null},e}(),l=function(e){function t(t,n,r){e.call(this),this.xloc=t,this.yloc=n,this.angle=r}return __extends(t,e),t.Tools=new t(1,-1,1*a),t.Techniques=new t(-1,-1,3*a),t.Platforms=new t(-1,1,-3*a),t.Languages=new t(1,1,-1*a),t.prototype.angleLower=function(){return this.angle-a},t.prototype.angleUpper=function(){return this.angle+a},t.prototype.isLeft=function(){return this.xloc<0},t.prototype.isTop=function(){return this.yloc<0},t}(f);t.Quadrant=l;var c=function(e){function t(t,n,r){e.call(this,null,null),this.name=t,this.quadrant=n;var i=r*o.Radar.radius,a=n.angle+o.random(.01,.02);this.polar=new s.Polar(i,a),this.updateXY(),u.Bus.instance().getSocket("Thing").on("Thing",this.notify)}return __extends(t,e),t.prototype.notify=function(e){console.log("yay got data "+e)},t.prototype.updatePolar=function(){this.prevPolar=this.polar,this.polar=s.Polar.fromPoint(this.x,this.y)},t.prototype.fixRadius=function(e){if(!this.isBeingDragged()||!e)this.polar.r=this.prevPolar.r},t.prototype.updateXY=function(){this.x=this.polar.x(),this.y=this.polar.y()},t.prototype.isBeingDragged=function(){return this.fixed&2},t.prototype.goodness=function(){return this.polar.r/o.Radar.radius},t}(s.D3Node);t.Thing=c}),define("radar",["require","exports","view-model"],function(e,t,n){function i(e,t){var n=t-e;return Math.random()*n+e}function s(e,t,n){return Math.max(e,Math.min(n,t))}var r=n;t.random=i;var o=function(){function e(e,t,n,r){this.diameter=e,this.quadrant=t,this.goodnessEditable=n;var i=1.1;this.createSvg(r,i),this.drawBackground(i),this.setupForceLayout()}return e.radius=200,e.quadrantGravity=.03,e.prototype.addThings=function(e){var t=this;e.forEach(function(e){return t.things.push(e)}),this.restart()},e.prototype.createSvg=function(t,n){var r=d3.select("body").append("svg").attr("class","radar "+t).attr("width",this.diameter*(this.quadrant?1.5:2)).attr("height",this.diameter*(this.quadrant?n:n*2-1));if(this.quadrant)var i=this.diameter/e.radius,s=this.quadrant.isLeft()?e.radius*1.5:0,o=this.quadrant.isTop()?e.radius*n:0;else var i=this.diameter/(e.radius*2),s=e.radius*2,o=e.radius*n;this.svg=r.append("g").attr("transform","scale("+i+") translate("+s+", "+o+")")},e.prototype.drawBackground=function(t){this.drawLabeledCircle("Doen!",.47,e.radius*.4),this.drawLabeledCircle("Proberen",.4,e.radius*.7),this.drawCenteredCircle(e.radius*.85),this.drawLabeledCircle("Experimenteren",.53,e.radius*.86),this.drawLabeledCircle("Afblijven",.27,e.radius*1);var n=e.radius*t;this.drawLine(0,n,0,-n),this.drawLine(n,0,-n,0)},e.prototype.setupForceLayout=function(){var t=this;this.force=d3.layout.force().nodes([]).size([e.radius*2,e.radius*2]).gravity(0).charge(-50).on("tick",function(e){return t.tick(e)}),this.things=this.force.nodes()},e.prototype.restart=function(){var e=this.svg.selectAll("circle.thing").data(this.things);e.enter().append("circle").attr("class","thing").attr("r",4).call(this.force.drag),this.svg.selectAll("text.thing").data(this.things).enter().append("text").attr("class","thing").attr("dx",function(e){return(e.quadrant.isLeft()?-1:1)*12}).attr("dy",4).attr("text-anchor",function(e){return e.quadrant.isLeft()?"end":"start"}).text(function(e){return e.name}),this.force.start()},e.prototype.tick=function(t){var n=this;this.things.forEach(function(r){r.updatePolar(),r.fixRadius(n.goodnessEditable),r.polar.phi+=(r.quadrant.angle-r.polar.phi)*t.alpha*e.quadrantGravity;var i=10/(r.polar.r+.1);r.polar.phi=s(r.quadrant.angleLower()+i,r.polar.phi,r.quadrant.angleUpper()-i),r.polar.r=Math.min(r.polar.r,e.radius),r.updateXY()});var r=this.diameter/2;this.svg.selectAll("circle.thing").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),this.svg.selectAll("text.thing").attr("x",function(e){return e.x}).attr("y",function(e){return e.y})},e.prototype.drawLine=function(e,t,n,r){this.svg.append("line").attr("class","lines").attr("x1",e).attr("y1",t).attr("x2",n).attr("y2",r)},e.prototype.drawLabeledCircle=function(t,n,i){var s=this.quadrant||r.Quadrant.Tools;this.drawCenteredCircle(i);if(s.isTop())var o=0;else{var o=Math.PI;n=-n}if(s.isLeft())var u=o-n,a=o;else var u=o,a=o+n;if(!s.isTop()){var f=a;a=u,u=f}var l=d3.svg.arc().innerRadius(i-.02*e.radius).outerRadius(i+.02*e.radius).startAngle(u).endAngle(a),c=t.replace(/[^a-z]/,"");this.svg.append("path").attr("d",l).attr("id",c).style("stroke","none").style("fill","white"),this.svg.append("text").append("textPath").attr("xlink:href","#"+c).attr("startOffset",s.isTop()?"0%":"50%").append("tspan").attr("dy",8).attr("dx",5).text(t)},e.prototype.drawCenteredCircle=function(e){this.svg.append("circle").attr("class","lines").attr("cx",0).attr("cy",0).attr("r",e)},e}();t.Radar=o}),define("techradar",["require","exports","radar","view-model"],function(e,t,n,r){var i=n,s=r;(function(e){function u(){var e=[new n("C++",t.Languages,.9),new n("Scala",t.Languages,.6),new n("TypeScript",t.Languages,.7),new n("C#",t.Languages,.1),new n("APL",t.Languages,.8),new n("Continuous Integration",t.Techniques,.8),new n("CodeSourcery GCC",t.Platforms,.5),new n("NCrunch",t.Tools,.5),new n("Git",t.Tools,.6)];return d3.range(60).forEach(function(t){e.push(new n(t.toString(),o[t%4],i.random(.1,1)))}),e}function a(e){$("svg.radar").remove(),$("div.thing-list").remove();var t=e==="all"?null:o[parseInt(e,10)],n="quadrant-"+e;t!==null&&(n+=" single-quadrant");var i=new r(500,t,t!==null,n),s=u();i.addThings(s),t!==null&&f(s,t,i)}function f(e,t,n){var r=t.isLeft()?"thing-list-left":"thing-list-right",i=$('<div class="btn-group btn-group-vertical thing-list '+r+'" data-toggle="buttons-checkbox">'),s=e.filter(function(e){return e.quadrant===t});s.forEach(function(e){i.append('<button class="btn" data-thing="'+e.name+'">'+e.name+"</button>")}),i.find(".btn").click(function(t){var r=this,i=e.filter(function(e){return e.name==$(r).data("thing")});$(this).hasClass("active")||n.addThings(i)}),$("body").append(i)}function l(){$('a[data-toggle="tab"]').on("shown",function(e){return a($(e.target).data("q"))})}function c(){return l(),a($('li.active a[data-toggle="tab"]').data("q")),this}var t=s.Quadrant,n=s.Thing,r=i.Radar,o=[t.Techniques,t.Tools,t.Languages,t.Platforms];e.Start=c})(t.TechRadar||(t.TechRadar={}))}),this.require(["ext/bootstrap.min","ext/d3.v2.min","/socket.io/socket.io.js"],function(){require(["techradar"],function(e){var t=e.TechRadar.Start()})}),define("main",function(){});