var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},deg45=Math.PI/4,Quadrant=function(){function n(n){this.angle=n}return n.Tools=new n(1*deg45),n.Techniques=new n(3*deg45),n.Platforms=new n(5*deg45),n.Languages=new n(7*deg45),n}(),D3Node=function(){function n(n,t){this.x=n,this.y=t}return n}(),D3Link=function(){function n(n,t){this.source=n,this.target=t}return n}(),Thing=function(n){function t(t,i,r,u){n.call(this,null,null),this.name=t,this.quadrant=i,this.scale=u;var f=new Polar(r*u,Math.random()*Math.PI*.5+Math.PI*1.5);this.x=f.x(),this.y=f.y()}return __extends(t,n),t.prototype.goodness=function(){var n=Polar.fromPoint(this.x,this.y);return n.r/this.scale},t}(D3Node),Polar=function(){function n(n,t){this.r=n,this.phi=t}return n.fromPoint=function(t,i){return i=-i,new n(Math.sqrt(t*t+i*i),Math.atan2(i,t))},n.prototype.x=function(){return this.r*Math.cos(this.phi)},n.prototype.y=function(){return-this.r*Math.sin(this.phi)},n}(),Viewport=function(){function n(n){this.width=n;var t=this;this.svg=d3.select("body").append("svg").attr("width",n*1.5).attr("height",n).style("border","1px solid black"),this.force=d3.layout.force().nodes([]).size([this.width,this.width]).gravity(.005).on("tick",function(){return t.tick()}),this.things=this.force.nodes()}return n.prototype.tick=function(){for(var u,t,i=0;i!=this.things.length;i++){var n=this.things[i],e=Polar.fromPoint(n.px,n.py),o=Polar.fromPoint(n.x,n.y),r=e.r,f=this.width/100;r=Math.round(r/f)*f,u=new Polar(r,o.phi),n.x=u.x(),n.y=u.y()}t=this.width/2,this.svg.selectAll("circle").attr("cx",function(n){return n.x+t}).attr("cy",function(n){return n.y+t}),this.svg.selectAll("text").attr("x",function(n){return n.x+t}).attr("y",function(n){return n.y+t}).text(function(n){return n.name+" ("+n.goodness().toPrecision(2)+")"})},n.prototype.addThing=function(n){this.things.push(n)},n.prototype.restart=function(){var n=this.svg.selectAll("circle").data(this.things),t=n.enter().append("circle"),i;t.attr("r",10).attr("fill","#3366ff").call(this.force.drag),i=this.svg.selectAll("text").data(this.things).enter().append("text").attr("dx",20).attr("dy",5),this.force.start()},n}();$(function(){for(var n=200,i=[new Thing("C++",Quadrant.Languages,.9,n),new Thing("Scala",Quadrant.Languages,.6,n),new Thing("TypeScript",Quadrant.Languages,.7,n),new Thing("C#",Quadrant.Languages,.1,n),new Thing("APL",Quadrant.Languages,.8,n),],r=new Viewport(n*2),t=0;t!=i.length;t++)r.addThing(i[t]);r.restart()})