var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},deg45=Math.PI/4,Quadrant=function(){function n(n){this.angle=n}return n.Tools=new n(1*deg45),n.Techniques=new n(3*deg45),n.Platforms=new n(5*deg45),n.Languages=new n(7*deg45),n}(),D3Node=function(){function n(n,t){this.x=n,this.y=t}return n}(),D3Link=function(){function n(n,t){this.source=n,this.target=t}return n}(),Thing=function(n){function t(t,i,r){n.call(this,r*Math.SQRT2+(Math.random()*.002-.001),r*Math.SQRT2+(Math.random()*.002-.001)),this.name=t,this.quadrant=i,this.goodness=r}return __extends(t,n),t}(D3Node),Viewport=function(){function n(n,t,i){this.width=n,this.xOrigin=t,this.yOrigin=i;var r=this;this.svg=d3.select("body").append("svg").attr("width",$(document).width()).attr("height",n).style("border","1px 1px 0 0 solid black"),this.origin=new D3Node(0,0),this.force=d3.layout.force().nodes([this.origin]).size([1,1]).gravity(0).linkDistance(function(n){return n.target.goodness*1}).linkStrength(1).charge(function(n){return n instanceof Thing?0:0}).on("tick",function(){return r.tick()}),this.nodes=this.force.nodes(),this.things=[],this.links=this.force.links()}return n.prototype.tick=function(){var n=this;this.svg.selectAll("g").attr("transform",function(t){return"translate("+t.x*n.width+", "+t.y*n.width+")"})},n.prototype.addThing=function(n){this.things.push(n),this.nodes.push(n),this.links.push(new D3Link(this.origin,n))},n.prototype.restart=function(){var i=this.svg.selectAll("circle").data([this.origin]),t,n;i.enter().append("circle").attr("class","origin").attr("cx",function(n){return n.x}).attr("cy",function(n){return n.y}).attr("r",5).attr("fill","#000"),t=this.svg.selectAll("g").data(this.things),n=t.enter().append("g"),n.append("circle").attr("r",10).attr("fill","#3366ff"),n.append("text").attr("dx",20).attr("dy",5).text(function(n){return n.name}),this.force.start(),this.force.alpha(.01)},n}();$(function(){for(var t=[new Thing("C++",Quadrant.Languages,.9),new Thing("TypeScript",Quadrant.Languages,.7),new Thing("C#",Quadrant.Languages,.1),new Thing("APL",Quadrant.Languages,.8),new Thing("Scala",Quadrant.Languages,.6),],i=new Viewport(400,$(document).width()/2,200),n=0;n!=t.length;n++)i.addThing(t[n]);i.restart()})